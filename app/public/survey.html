<!DOCTYPE html>
<html>
<head>
	<title>Twin Peaks Character Quiz</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Cambay:400i|Contrail+One" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="../css/style.css">
</head>
<body>
	<div class="container text-center">
		<h1>Which Twin Peaks Character Are You?</h1>
		
		<br>

		<h2>Answer the following questions based on how much you agree with the statement (1 is strongly disagree and 5 is strongly agree).</h2>
		<hr>

		<div class="input-group">
		  <span class="input-group-addon" id="basic-addon1">Name</span>
		  <input type="text" class="form-control" id="name" placeholder="Please type your name here" aria-describedby="basic-addon1">
		</div>
				
		<div class="input-group">
		  <span class="input-group-addon" id="basic-addon1">Picture</span>
		  <input type="text" class="form-control" id="image" placeholder="Please paste a link of your picture here" aria-describedby="basic-addon1">
		</div>
		
		<div class="well">
			<h2>1. Dreams are an important way to understand the world around you.</h2>
				<select class="form-control q1">
				  <option value=1>1</option>
				  <option value=2>2</option>
				  <option value=3>3</option>
				  <option value=4>4</option>
				  <option value=5>5</option>
				</select>

			<h2>2. Behind all things are reasons.</h2>
				<select class="form-control q2">
				  <option value=1>1</option>
				  <option value=2>2</option>
				  <option value=3>3</option>
				  <option value=4>4</option>
				  <option value=5>5</option>
				</select>

			<h2>3. All that we see in this world is based on someone's ideas.</h2>
				<select class="form-control q3">
				  <option value=1>1</option>
				  <option value=2>2</option>
				  <option value=3>3</option>
				  <option value=4>4</option>
				  <option value=5>5</option>
				</select>

			<h2>4. We are ignorant of many beautiful things — things like the truth.</h2>
				<select class="form-control q4">
				  <option value=1>1</option>
				  <option value=2>2</option>
				  <option value=3>3</option>
				  <option value=4>4</option>
				  <option value=5>5</option>
				</select>

			<h2>5. Eyes are the mirror of the soul.</h2>
				<select class="form-control q5">
				  <option value=1>1</option>
				  <option value=2>2</option>
				  <option value=3>3</option>
				  <option value=4>4</option>
				  <option value=5>5</option>
				</select>

			<h2>6. A drunken man walks in a way that is quite impossible for a sober man to imitate, and vice versa. An evil man has a way, no matter how clever — to the trained eye, his way will show itself.</h2>
				<select class="form-control q6">
				  <option value=1>1</option>
				  <option value=2>2</option>
				  <option value=3>3</option>
				  <option value=4>4</option>
				  <option value=5>5</option>
				</select>

			<h2>7. There is as much space outside the human, proportionately, as inside. </h2>
				<select class="form-control q7">
				  <option value=1>1</option>
				  <option value=2>2</option>
				  <option value=3>3</option>
				  <option value=4>4</option>
				  <option value=5>5</option>
				</select>

			<h2>8. It is almost fun not knowing.</h2>
				<select class="form-control q8">
				  <option value=1>1</option>
				  <option value=2>2</option>
				  <option value=3>3</option>
				  <option value=4>4</option>
				  <option value=5>5</option>
				</select>

			<h2>9. We live in a world where nothing is simple.</h2>
				<select class="form-control q9">
				  <option value=1>1</option>
				  <option value=2>2</option>
				  <option value=3>3</option>
				  <option value=4>4</option>
				  <option value=5>5</option>
				</select>

			<h2>10. There are clues everywhere — all around us. But the puzzle maker is clever. The clues, although surrounding us, are somehow mistaken for something else.</h2>
				<select class="form-control q10">
				  <option value=1>1</option>
				  <option value=2>2</option>
				  <option value=3>3</option>
				  <option value=4>4</option>
				  <option value=5>5</option>
				</select>
		</div>
		<br>
		<button type="submit" class="btn" id="submit" data-toggle="modal" data-target="#myModal">Submit</button>
	</div>

	<footer class="footer text-center">
		<div class="container">
		    <p><a href="/api/friends">API Friends List</a>  |  <a href="https://github.com/scdoran/FriendFinder">Github Repo</a></p>
	    </div>
	</footer>

<!-- My Modal Content -->
	<div id="myModal" class="modal fade" tabindex="-1" role="dialog">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h2 class="modal-title text-center">You Are <span id="characterName"></span></h2>
	      </div>
	      <div class="modal-body text-center">
	        <span id="characterInfo"></span>
	      <div class="modal-footer">
	        <button type="button" class="btn" id="close" data-dismiss="modal">Close</button>
	        <a href="home.html"><button type="button" id="playAgain" class="btn btn-primary">Play Again</button></a>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	<script src="https://code.jquery.com/jquery-2.2.0.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<script type="text/javascript">
// When the page loads...
		$(document).ready(function() {
			// The body text will not be present, but will fade in after 3 seconds.
			$('body').css('display', 'none');

			$('body').fadeIn(3000);
	});
		// When the user clicks on the submit button new data will be pushed to the friends/api in routes.
	    $("#submit").on("click", function(event) {
	      event.preventDefault();
	      
	      var newFriend = {
	      	name: $("#name").val().trim(),
	      	picture: $("#image").val().trim(),
	        scores: [
		        $('.q1').val(), 
		        $('.q2').val(),
		        $('.q3').val(),
		        $('.q4').val(),
		        $('.q5').val(),
		        $('.q6').val(), 
		        $('.q7').val(),
		        $('.q8').val(),
		        $('.q9').val(),
		        $('.q10').val()
	        ]
	      };
	      
	      // Grab the URL of the website
	    	var currentURL = window.location.origin;

	    	// The api will push the results of the user's data after being compared through the existing friend/ character data.
	      $.post(currentURL + "/api/friends", newFriend)
	      .done(function(data) {
			// New div created with the character content.
	        var characterMatch = $("<div>");
	        var characterImage = $("<img id='pic'>").attr("src", data.photo);
	        var characterInfo = $("<h4 class='text-center well'>").append(data.info);

	        $("#characterName").append(data.name);
	        characterMatch.append(characterImage);
	        characterMatch.append(characterInfo);
	        $("#characterInfo").append(characterMatch);
	        // All of the data will be appended to the modal, thus prompting the modal at the end.
	        $("#myModal").modal();

	      });
	      // If the user clicks on the play again button the character name and info will be emptied.
	      $("#playAgain").on("click", function(event){
	      	$("#characterInfo").empty();
			$("#characterName").empty();
	      });

	      // If the user clicks on close the character info and chracter name will also be emptied.
	      $("#close").on("click", function(event){
	      	$("#characterInfo").empty();
			$("#characterName").empty();
	      });

    	});
	</script>
</body>
</html>